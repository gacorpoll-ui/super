<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Placeholder</title>
    <style>
        body { font-family: sans-serif; padding: 20px; }
        h1 { color: #333; }
        #notification-box {
            display: none;
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px;
            background-color: #28a745;
            color: white;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 1000;
        }
    </style>
</head>
<body>

    <h1>Dashboard Placeholder</h1>
    <p>This is a placeholder file. The real-time notification system is active.</p>
    <p>You will need to integrate the JavaScript logic from this file into your actual dashboard template.</p>

    <div id="notification-box"></div>

    <!-- PENTING: Anda perlu menyertakan library Socket.IO. Biasanya melalui file statis atau CDN. -->
    <!-- Contoh menggunakan CDN: -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.5/socket.io.js"></script>

    <script type="text/javascript">
        // Inisialisasi koneksi Socket.IO ke server Anda
        const socket = io();

        socket.on('connect', function() {
            console.log('Successfully connected to the WebSocket server.');
        });

        // Mendengarkan event 'new_signal_notification' dari server
        socket.on('new_signal_notification', function(data) {
            console.log('New signal received:', data);

            // Membuat pesan notifikasi
            const message = `Sinyal Baru!\n` +
                            `Profil: ${data.profile_name}\n` +
                            `Simbol: ${data.symbol}\n` +
                            `Arah: ${data.order_type}\n` +
                            `Harga Masuk: ${data.entry_price}\n` +
                            `Skor: ${data.score.toFixed(2)}`;

            // Menampilkan notifikasi sederhana menggunakan alert()
            alert(message);

            // Alternatif: Menampilkan notifikasi di dalam kotak di pojok kanan atas
            const notificationBox = document.getElementById('notification-box');
            notificationBox.textContent = `Sinyal Baru: ${data.symbol} ${data.order_type}`;
            notificationBox.style.display = 'block';

            // Sembunyikan notifikasi setelah 5 detik
            setTimeout(function() {
                notificationBox.style.display = 'none';
            }, 5000);
        });

        socket.on('disconnect', function() {
            console.log('Disconnected from the WebSocket server.');
        });
    </script>

</body>
</html>
